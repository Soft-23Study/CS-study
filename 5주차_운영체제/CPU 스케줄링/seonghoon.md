# CPU 스케줄링

## CPU 스케줄링이란?

운영체제가 프로세스들에게 CPU 자원을 배분하는 과정

### 프로세스들은 각각 우선순위가 존재한다.

### 이는 사용자가 설정할 수 있고 운영체제가 설정할 수도 있다.

### 또한, 스케줄링 큐를 이용하여 CPU 스케줄링 과정을 진행한다.

## 선점형과 비선점형 스케줄링

### 선점형 스케줄링

현재 CPU를 사용 중인 프로세스로부터 CPU 자원을 빼앗아 다른 프로세스에게 할당

### 비선점형 스케줄링

현재 CPU를 사용 중인 프로세스의 작업이 끝날 때까지 다른 프로세스는 기다리게 함

## CPU 스케줄링 알고리즘

### 선입 선처리 스케줄링

- 준비 큐에 삽입된 순서대로 처리함.
- 먼저 CPU를 요청한 프로세스부터 CPU를 할당하는 비선점형 스케줄링이다.
- 프로세스들이 기다리는 시간이 매우 길어질 수 있는 단점이 존재 (=호위 효과)

### 최단 작업 우선 스케줄링

- CPU 사용 시간이 긴 프로세스는 나중에, CPU 사용 시간이 짧은 프로세스는 먼저 처리함

### 라운드 로빈 스케줄링

- 선입 선처리 스케줄링 + 타임 슬라이스
- 준비 큐에 먼저 삽입된 프로세스부터 처리하되, 정해진 시간만큼만 이용 가능한 선점형 스케줄링
- 이때, 타임 슬라이스의 크기가 너무 크면 호위 효과가 생길 수 있고, 타임 스라이스의 크기가 너무 작으면 문맥 교환 시 오버헤드가 발생할 수 있다.

### 최소 잔여 시간 우선 스케줄링

- 최단 작업 우선 스케줄링 + 라운드 로빈 스케줄링
- 정해진 시간만큼 CPU를 이용하되, 다음으로 CPU를 사용할 프로세스는 남은 작업 시간이 가장 적은 프로세스를 선택하는 알고리즘

### 우선순위 스케줄링

- 프로세스에 우선순위를 부여하고, 우선순위가 높은 프로세스부터 실행
- 우선순위가 높은 프로세스만 실행될 경우, 우선순위가 낮은 프로세스는 실행이 계속해서 연기될 수 있는 기아 현상이 발생할 수 있다.
- 이 문제는 오랫동안 대기한 프로세스의 우선순위를 점차증가시키는 에이징(aging)방법으로 해소할 수 있다.

### 다단계 큐 스케줄링

- 우선순위별로 준비 큐를 여러개 사용하는 스케줄링 방법
- 우선순위가 높은 큐에 있는 프로세스들을 먼저 처리히고, 다음 우선순위 큐에 있는 프로세슫ㄹ을 처리
- 마찬가지로 기아 현상이 발생할 수 있음

### 다단계 피드백 큐 스케줄링

- 다단계 큐 스케줄링의 단점을 보완한 방식으로, 큐 간의 이동이 가능한 스케줄링 방식

**동작방식**

- 우선순위대로 처리를 하면서 만약 할당된 시간 내 끝내지 못한 프로세스가 있다면, 다음으로 높은 우선순위 큐에 삽입해서 처리
- 이렇게 하면 CPU를 많이 사용해야 하는 프로세스의 우선순위가 낮아지게 됨
- CPU 집중 프로세스의 우선순위는 상대적으로 낮아지고, 입출력 집중 프로세스의 우선순위는 상대적으로 높아지게 됨

→ 다단계 피드백 큐 스케줄링이 가장 일반적인 형태로 알려져 있음

[[운영체제] CPU 스케줄링 알고리즘 - 3/5 (tistory.com)](https://lealea.tistory.com/242#:~:text=CPU%20%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81%EC%9D%B4%EB%9E%80%3F%201%20%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%20%EC%9A%B0%EC%84%A0%EC%88%9C%EC%9C%84%20%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%20%EC%9A%B0%EC%84%A0%EC%88%9C%EC%9C%84%EB%8A%94%20%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EC%9D%98,%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81%20%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%20%EC%A4%91%20%EB%8C%80%ED%91%9C%EC%A0%81%EC%9D%B8%207%EA%B0%80%EC%A7%80%EB%A5%BC%20%EB%B0%B0%EC%9A%B8%20%EA%B2%83%EC%9E%85%EB%8B%88%EB%8B%A4.%20)

[[운영체제] CPU 스케줄링 알고리즘 정리 및 요약 | FCFS, SJF, Round Robin (tistory.com)](https://code-lab1.tistory.com/45)