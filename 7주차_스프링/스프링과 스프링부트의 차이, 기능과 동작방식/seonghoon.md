# 스프링, 스프링 부트란? 차이점, 기능, 동작방식

## 스프링(Spring)이란?

오픈소스 경량급 애플리케이션 프레임워크 ( 자바로 애플리케이션을 개발하는 데 필요한 기능을 제공하고 쉽게 사용하도록 돕는 도구 )

## 스프링의 핵심 가치

### 1. 제어 역전 (IoC ; Inversion of Control)

```java
// 객체가 직접 사용할 객체를 생성하고 관리함

@RestController
public class noDIController {
	**private MyService service = new MyServiceImpl();** 

	@GetMappinig("/no-di/hello")
	public String getHello() {
		return service.getHello();
	}
}
```

```java
// 외부(스프링 컨테이너)에서 사용할 객체를 생성하고 관리함

@RestController
public class DIController {
	**private MyService service;

	@Autowired
	public DIController(MyService myService){
		this.myService = myService;
	}**

	@GetMappinig("/di/hello")
	public String getHello() {
		return myService.getHello();
	}
}
```

객체의 관리를 외부 즉, 컨테이너에 맡겨 제어권이 넘어간 것을 제어 역전이라고 부르며, 제어 역전을 통해 의존성 주입, 관점 지향 프로그래밍 등이 가능해진다.

### 2. 의존성 주입(DI ; Dependency Injection)

**장점**

- 코드를 단순화할 수 있음
- 애플리케이션을 더 쉽게 유지 및 관리 가능
- 객체간 결합도를 낮추고, 테스트를 용이하게 할 수 있음

**종류**

- 생성자를 통한 의존성 주입 (가장 많이 사용되는 방식, 스프링 공식 문서에서 권장하는 방식)
- 필드 객체 선언을 통한 의존성 주입 (테스트 코드에 쓰임)
- setter 메서드를 통한 의존성 주입

### 3. 관점 지향 프로그래밍 (AOP ; Aspect-Oriented Programming)

어떤 기능을 구현할 때 그 기능을 ‘핵심 기능’과 ‘부가 기능’으로 구분해 각각을 하나의 관점으로 보는 개발 방식

클라이언트로부터 상품 정보 등록 요청을 받아, 그 상품 정보를 조회하는 비즈니스 로직을 구현한다고 할때,

**(0) 로깅 → 부가기능**

**(1) 상품 정보를 데이터베이스에 저장함 → 핵심기능**

**(2) 저장된 상품 정보 데이터를 보여줌 → 핵심기능**

**(3) 트랜잭션 → 부가기능**

![Untitled](%E1%84%89%E1%85%B3%E1%84%91%E1%85%B3%E1%84%85%E1%85%B5%E1%86%BC,%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%B3%E1%84%85%E1%85%B5%E1%86%BC%20%E1%84%87%E1%85%AE%E1%84%90%E1%85%B3%E1%84%85%E1%85%A1%E1%86%AB%20%E1%84%8E%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%8C%E1%85%A5%E1%86%B7,%20%E1%84%80%E1%85%B5%E1%84%82%E1%85%B3%E1%86%BC,%20%E1%84%83%E1%85%A9%E1%86%BC%E1%84%8C%E1%85%A1%E1%86%A8%E1%84%87%E1%85%A1%E1%86%BC%209a6e6c5ba75a446f9b19b5cc67a8767e/Untitled.png)

<그림> OOP 방식의 애플리케이션 로직>

![Untitled](%E1%84%89%E1%85%B3%E1%84%91%E1%85%B3%E1%84%85%E1%85%B5%E1%86%BC,%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%B3%E1%84%85%E1%85%B5%E1%86%BC%20%E1%84%87%E1%85%AE%E1%84%90%E1%85%B3%E1%84%85%E1%85%A1%E1%86%AB%20%E1%84%8E%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%8C%E1%85%A5%E1%86%B7,%20%E1%84%80%E1%85%B5%E1%84%82%E1%85%B3%E1%86%BC,%20%E1%84%83%E1%85%A9%E1%86%BC%E1%84%8C%E1%85%A1%E1%86%A8%E1%84%87%E1%85%A1%E1%86%BC%209a6e6c5ba75a446f9b19b5cc67a8767e/Untitled%201.png)

<그림> AOP 방식의 애플리케이션 로직>

스프링 AOP의 목적은 OOP와 마찬가지로 모듈화해서 재사용 가능한 구성을 만드는 것이고, 모듈화된 객체를 편하게 적용할 수 있게 함으로써 개발자가 비즈니스 로직을 구현하는 데만 집중할 수 있게 도와주는 것이다.

## 스프링이 가졌던 문제들

1. **설정할 게 너무나 많다. (추가된 라이브러리를 실행하는 데 필요한 환경 설정이 너무 많다.)**
2. **의존성 관리가 힘들다. (버전 호환을 꾸준히 관리해 주어야 함)**
3. **배포가 어렵다. (**`.war` 파일은 WAS 없이 독립적으로 실행이 불가능해서 항상 WAS를 먼저 설치하고 그 안에 `.war` 파일을 넣어 배포했었다.)

## 스프링 부트(Spring Boot)란?

위와 같은 단점들을 극복하고, 자체적으로 구동 가능한 프로덕션 수준의 스프링 기반 애플리케이션을 만드는 것을 도와주기 위해 탄생한 것

## 스프링 부트의 동작 방식

![Untitled](%E1%84%89%E1%85%B3%E1%84%91%E1%85%B3%E1%84%85%E1%85%B5%E1%86%BC,%20%E1%84%89%E1%85%B3%E1%84%91%E1%85%B3%E1%84%85%E1%85%B5%E1%86%BC%20%E1%84%87%E1%85%AE%E1%84%90%E1%85%B3%E1%84%85%E1%85%A1%E1%86%AB%20%E1%84%8E%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%8C%E1%85%A5%E1%86%B7,%20%E1%84%80%E1%85%B5%E1%84%82%E1%85%B3%E1%86%BC,%20%E1%84%83%E1%85%A9%E1%86%BC%E1%84%8C%E1%85%A1%E1%86%A8%E1%84%87%E1%85%A1%E1%86%BC%209a6e6c5ba75a446f9b19b5cc67a8767e/Untitled%202.png)

1. 핸들러 매핑을 통해 요청 URI에 매핑된 핸들러를 탐색한다.
2. 해당 핸들러를 처리할 수 있는 핸들러 어댑터를 조회한다.

 3,4. 핸들러 어댑터로 핸들러를 호출한다.

1. 핸들러 어댑터에 컨트롤러의 응답이 돌아오면 ModelAndView로 응답을 가공해 반환한다.
2. 뷰 리졸버를 통해
3. 뷰를 받아 리턴한다.

**위 방식은 mvc 구조를 기반으로 동작하는 방식이다.**

**REST 형식의 동작 방식은 뷰 리졸버를 호출하지 않고 MessageConverter를 거쳐 JSON 형식으로 변환해서 응답한다.**

### 참고

[스프링과 스프링부트 무엇이 다를까? (velog.io)](https://velog.io/@jakeseo_me/%EC%8A%A4%ED%94%84%EB%A7%81%EA%B3%BC-%EC%8A%A4%ED%94%84%EB%A7%81%EB%B6%80%ED%8A%B8-%EB%AC%B4%EC%97%87%EC%9D%B4-%EB%8B%A4%EB%A5%BC%EA%B9%8C)

김영한님의 인프런 스프링 입문편 강의